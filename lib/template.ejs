digraph erd {
  graph [
    rankdir = "LR"
  ];
  node [
    fontsize = "16"
    shape = "plaintext"
  ];
  edge [
  ];
  ranksep = 2.0
<%_ _.each(types, type => { -%>
  <%_ if (skipType(type)) return; -%>
  <%- type.name %> [
    id = "<%- type._id %>"
    label = <<TABLE BORDER="0" CELLBORDER="1" CELLSPACING="0">
      <TR><TD><B id='test'><%- type.name %></B></TD></TR>
      <%_ _.each(type.fields, field => { -%>
        <%_ if (skipField(field)) return; -%>
      <TR><TD PORT="<%- field.name %>">
        <%- field.name %>:<%- printFieldType(field) %>
      </TD></TR>
      <%_ }); -%>
    </TABLE>>
  ];
  <%_ _.each(type.fields, field => { -%>
    <%_ if (skipField(field)) return; -%>
    <%_ var fieldType = getFieldType(field); -%>
    <%_ if (isScalar(fieldType)) return; -%>
  "<%- type.name %>":"<%- field.name %>" -> "<%- fieldType.name %>" [
    label = "<%- type.name %>:<%- field.name %>"
    id = "<%- field._id %>"
  ]
  <%_ }); -%>
<%_ }); -%>
}
